<app-header></app-header>
<div class="container">
  <div *ngIf="userData" class="user-data">
    <div class="name text-center">
      <img class="user-avatar" src="./assets/images/pngwing.com.png" alt="avatar">
      <h1 class="text-center">{{ userData.fullName }}</h1>
      <p class="email">Email: {{ userData.email }}</p>
    </div>

    <div class="posts pb-10">
      <h1>Your posts: </h1>
      <h2 class="text-center" *ngIf="posts.length === 0">You don`t have posts(</h2>
      <ng-container *ngFor="let post of posts">
        <div class="example-card w-full">
          <img
            class="w-full mb-4"
            [src]="getImageUrl(post.imageUrl)"
            alt="photo"
          />
          <div class="card-content ml-5 mb-5">
            <div class="flex justify-between">
              <h1>{{ post.title }}</h1>
              <div class="buttons">
                <button [routerLink]="['/profile/edit-post', post._id]" class="mr-5"><mat-icon>build</mat-icon></button>
                <button (click)="deletePost(post._id)" class="mr-5"><mat-icon class="delete-icon">delete_forever</mat-icon></button>
              </div>
            </div>
            <p>{{ post.createdAt }}</p>
            <div>
              <h3>Description: </h3>
              <p class="desc">{{ post.text }}</p>
            </div>
            <div class="flex items-center pb-5">
              <mat-icon class="block mr-2">remove_red_eye</mat-icon>
              <div>{{ post.viewsCount }}</div>
            </div>
          </div>
        </div>

        <app-loader *ngIf="!post"></app-loader>
      </ng-container>
    </div>
  </div>
</div>
